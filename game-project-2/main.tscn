[gd_scene load_steps=22 format=3 uid="uid://cdv48fwvkumik"]

[ext_resource type="ArrayMesh" uid="uid://bcnliylecdrk1" path="res://PlaceHolders/obj/dirt_with_grass.obj" id="1_ig7tw"]
[ext_resource type="PackedScene" uid="uid://cniym77vlahk5" path="res://player.tscn" id="2_0xm2m"]
[ext_resource type="PackedScene" uid="uid://cwspt7ouw8qg7" path="res://Assests3dModel/EnviromentModels/floor.blend" id="3_272bh"]
[ext_resource type="PackedScene" uid="uid://bg1bp42kw5j3h" path="res://Assests3dModel/EnviromentModels/doorway.blend" id="4_5vw27"]
[ext_resource type="PackedScene" uid="uid://bavthgqwclwsx" path="res://Assests3dModel/EnviromentModels/wall2.blend" id="5_kek77"]
[ext_resource type="PackedScene" uid="uid://busx538pxchxl" path="res://Assests3dModel/EnviromentModels/wall.blend" id="6_4c57u"]
[ext_resource type="PackedScene" uid="uid://bdiokwlb53sj7" path="res://Assests3dModel/EnviromentModels/ceiling.blend" id="7_efxa6"]
[ext_resource type="PackedScene" uid="uid://sac4j2p8rvso" path="res://enemy.tscn" id="8_5vw27"]
[ext_resource type="Script" uid="uid://bdu0omd3aw4g6" path="res://cutscene_layer.gd" id="9_kek77"]
[ext_resource type="Script" uid="uid://dltrj4q8ds2n5" path="res://game_over_screen.gd" id="10_4c57u"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ig7tw"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_0xm2m"]
sky_material = SubResource("ProceduralSkyMaterial_ig7tw")

[sub_resource type="Environment" id="Environment_h2yge"]
background_mode = 2
sky = SubResource("Sky_0xm2m")
tonemap_mode = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_0xm2m"]
size = Vector3(2, 2, 2)

[sub_resource type="MeshLibrary" id="MeshLibrary_h2yge"]
item/0/name = "grass"
item/0/mesh = ExtResource("1_ig7tw")
item/0/mesh_transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
item/0/mesh_cast_shadow = 1
item/0/shapes = [SubResource("BoxShape3D_0xm2m"), Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)]
item/0/navigation_mesh_transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
item/0/navigation_layers = 1

[sub_resource type="NavigationMesh" id="NavigationMesh_dg77c"]
vertices = PackedVector3Array(10.079585, 8.798, -10.406195, 10.079585, 8.798, -8.906195, 10.579585, 8.798, -10.156195, 13.329585, 8.798, -10.156195, 16.579586, 2.2980008, -9.406195, 16.829586, 2.0480008, -9.906195, 16.829586, 2.0480008, -10.406195, 15.079585, 2.0480008, -10.406195, 15.329585, 2.2980008, -9.406195, 11.829585, 10.548, -4.6561947, 11.829585, 10.298, -3.9061947, 12.579585, 10.298, -3.9061947, 12.829585, 10.798, -5.9061947, 18.329586, 10.548, -4.9061947, 18.579586, 10.298, -2.6561947, 18.829586, 10.798, -5.9061947, 17.079586, 10.798, -5.9061947, 17.329586, 10.548, -5.1561947, 23.329586, 10.798, -5.9061947, 23.329586, 10.798, -9.156195, 11.329585, 10.798, -9.156195, 11.329585, 10.548, -4.9061947, 9.829585, 2.2980008, -4.9061947, 9.829585, 2.2980008, -1.4061947, 12.329585, 2.2980008, -1.4061947, 12.579585, 2.2980008, -5.1561947, 22.079586, 2.2980008, -8.156195, 12.579585, 2.2980008, -8.156195, 12.579585, 2.2980008, 1.3438053, 22.329586, 2.2980008, 1.3438053, 10.579585, 2.2980008, -6.9061947, 10.579585, 2.2980008, -6.1561947, 11.329585, 2.2980008, -6.1561947, 11.329585, 2.2980008, -6.9061947, 13.579585, 9.298, -1.9061947, 13.579585, 9.298, -1.4061947, 14.079585, 9.048, -1.4061947, 14.579585, 9.048, -2.4061947, 13.829585, 9.298, -2.6561947, 14.329585, 9.048, -4.6561947, 14.829585, 8.798, -2.9061947, 15.329585, 9.048, -2.4061947, 16.329586, 8.798, -1.4061947, 16.329586, 10.048, -4.9061947, 15.329585, 9.548, -1.4061947, 19.579586, 9.298, -1.9061947, 19.579586, 9.298, -1.4061947, 20.079586, 9.048, -1.4061947, 20.579586, 9.048, -2.4061947, 19.829586, 9.298, -2.6561947, 21.329586, 9.548, -1.4061947, 23.079586, 9.048, -1.4061947, 22.579586, 9.298, -2.4061947, 21.329586, 9.048, -2.4061947, 22.204586, 8.798, -1.4061947, 20.829586, 8.798, -2.9061947, 22.579586, 10.048, -4.9061947, 20.329586, 9.048, -4.6561947, 23.079586, 9.298, -2.4061947, 18.579586, 10.548, -1.6561947, 18.079586, 10.548, -1.6561947, 17.329586, 10.548, -1.4061947, 17.079586, 10.798, -0.4061947, 18.829586, 10.798, -0.4061947, 12.829585, 10.798, -0.4061947, 11.329585, 10.798, 2.8438053, 23.329586, 10.798, 2.8438053, 23.329586, 10.798, -0.4061947, 12.329585, 10.548, -1.6561947, 11.329585, 10.548, -1.6561947, 12.454585, 10.048, -2.7811947, 11.579585, 10.048, -2.7811947, 10.579585, 4.298001, -0.15619469, 10.579585, 4.298001, 1.0938053, 11.329585, 4.298001, 1.0938053, 11.329585, 4.298001, -0.15619469, 10.579585, 2.2980008, 0.09380531, 10.579585, 2.2980008, 0.8438053, 11.329585, 2.2980008, 0.8438053, 11.329585, 2.2980008, 0.09380531, 17.079586, 2.2980008, 3.5938053, 17.079586, 2.2980008, 2.5938053, 15.829585, 2.2980008, 2.5938053, 15.579585, 2.2980008, 3.3438053, 19.329586, 2.2980008, 2.5938053, 19.329586, 2.2980008, 3.0938053, 20.079586, 2.2980008, 3.0938053, 20.079586, 2.2980008, 2.5938053)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(0, 3, 2), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 8), PackedInt32Array(6, 8, 7), PackedInt32Array(10, 9, 11), PackedInt32Array(11, 9, 12), PackedInt32Array(15, 14, 13), PackedInt32Array(17, 16, 13), PackedInt32Array(13, 16, 15), PackedInt32Array(19, 18, 15), PackedInt32Array(16, 12, 20), PackedInt32Array(9, 21, 12), PackedInt32Array(12, 21, 20), PackedInt32Array(15, 16, 19), PackedInt32Array(19, 16, 20), PackedInt32Array(23, 22, 24), PackedInt32Array(24, 22, 25), PackedInt32Array(25, 27, 26), PackedInt32Array(24, 25, 28), PackedInt32Array(28, 25, 29), PackedInt32Array(29, 25, 26), PackedInt32Array(33, 32, 30), PackedInt32Array(30, 32, 31), PackedInt32Array(35, 34, 36), PackedInt32Array(36, 34, 38), PackedInt32Array(36, 38, 37), PackedInt32Array(39, 41, 40), PackedInt32Array(39, 43, 41), PackedInt32Array(41, 43, 42), PackedInt32Array(41, 37, 40), PackedInt32Array(40, 37, 38), PackedInt32Array(42, 44, 41), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 49), PackedInt32Array(47, 49, 48), PackedInt32Array(51, 54, 52), PackedInt32Array(52, 54, 50), PackedInt32Array(52, 50, 53), PackedInt32Array(53, 55, 52), PackedInt32Array(52, 55, 57), PackedInt32Array(52, 57, 56), PackedInt32Array(53, 48, 55), PackedInt32Array(55, 48, 49), PackedInt32Array(52, 58, 51), PackedInt32Array(60, 59, 61), PackedInt32Array(61, 59, 62), PackedInt32Array(62, 59, 63), PackedInt32Array(65, 64, 62), PackedInt32Array(63, 67, 66), PackedInt32Array(11, 70, 10), PackedInt32Array(10, 70, 71), PackedInt32Array(71, 70, 68), PackedInt32Array(71, 68, 69), PackedInt32Array(63, 66, 62), PackedInt32Array(62, 66, 65), PackedInt32Array(68, 64, 69), PackedInt32Array(69, 64, 65), PackedInt32Array(75, 74, 72), PackedInt32Array(72, 74, 73), PackedInt32Array(79, 78, 76), PackedInt32Array(76, 78, 77), PackedInt32Array(82, 81, 83), PackedInt32Array(83, 81, 80), PackedInt32Array(87, 86, 84), PackedInt32Array(84, 86, 85)]
geometry_parsed_geometry_type = 0

[sub_resource type="BoxShape3D" id="BoxShape3D_5vw27"]
size = Vector3(12.5616455, 2.0424805, 14.708984)

[sub_resource type="BoxShape3D" id="BoxShape3D_kek77"]
size = Vector3(12.669922, 9.878052, 1.980957)

[sub_resource type="BoxShape3D" id="BoxShape3D_4c57u"]
size = Vector3(2.2574615, 4.9941406, 5.312561)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_5vw27"]
bg_color = Color(0.5499392, 0.61939096, 0.5912887, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_kek77"]
bg_color = Color(1.2032687e-07, 0.64711, 0.19402054, 1)

[node name="main" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_h2yge")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="GridMap" type="GridMap" parent="."]
mesh_library = SubResource("MeshLibrary_h2yge")
data = {
"cells": PackedInt32Array(65535, 65535, 0, 65535, 0, 0, 65535, 1, 0, 0, 1, 0, 1, 1, 0, 2, 1, 0, 3, 1, 0, 4, 1, 0, 4, 0, 0, 4, 65535, 0, 4, 65534, 0, 4, 65533, 0, 4, 65532, 0, 4, 65531, 0, 4, 65530, 0, 3, 65530, 0, 2, 65530, 0, 1, 65530, 0, 1, 65531, 0, 0, 65531, 0, 65535, 65531, 0, 65535, 65532, 0, 65534, 65532, 0, 65534, 65531, 0, 65534, 65533, 0, 65534, 65534, 0, 65534, 65535, 0, 65534, 0, 0, 65534, 1, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 3, 65535, 0, 2, 65535, 0, 1, 65535, 0, 0, 65535, 0, 65535, 65534, 0, 0, 65534, 0, 1, 65534, 0, 2, 65534, 0, 3, 65534, 0, 3, 65533, 0, 3, 65532, 0, 3, 65531, 0, 2, 65531, 0, 0, 65530, 0, 65535, 65530, 0, 65534, 65530, 0, 0, 65532, 0, 1, 65532, 0, 2, 65532, 0, 2, 65533, 0, 1, 65533, 0, 0, 65533, 0, 65535, 65533, 0)
}

[node name="Player" parent="." instance=ExtResource("2_0xm2m")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.77576804, 3, -3.4622736)

[node name="Camera3D" type="Camera3D" parent="Player"]
transform = Transform3D(-4.371139e-08, 0.40194777, -0.9156626, 0, 0.9156626, 0.40194777, 1, 1.7569695e-08, -4.0024883e-08, -4.1938653, 1.6866126, 1.0804913)

[node name="HealthLabel" type="Label3D" parent="Player"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, -1.8716586, 1.3900647, 0.60138154)
font_size = 64

[node name="Enemy" parent="." instance=ExtResource("8_5vw27")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 17.092524, 2.5613246, -3.6705592)

[node name="Enemy2" parent="." instance=ExtResource("8_5vw27")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19.580296, 2.7661843, -5.4337516)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_dg77c")

[node name="floor" parent="NavigationRegion3D" instance=ExtResource("3_272bh")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 1.7, -3)

[node name="doorway" parent="NavigationRegion3D" instance=ExtResource("4_5vw27")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11, 1.7, -3)

[node name="wall2" parent="NavigationRegion3D" instance=ExtResource("5_kek77")]
transform = Transform3D(1.1924881e-08, 0, -1, 0, 1, 0, 1, 0, 1.1924881e-08, 16, 1.7, -10)

[node name="wall" parent="NavigationRegion3D" instance=ExtResource("6_4c57u")]
transform = Transform3D(1.1924881e-08, 0, -1, 0, 1, 0, 1, 0, 1.1924881e-08, 16, 1.7, 3)

[node name="ceiling" parent="NavigationRegion3D" instance=ExtResource("7_efxa6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 1.7, -3)

[node name="ceiling2" parent="NavigationRegion3D" instance=ExtResource("7_efxa6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10, 1.7, -3)

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.335297, 0.9832258, -3.3828125)
shape = SubResource("BoxShape3D_5vw27")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.251627, 5.512536, -9.8841505)
shape = SubResource("BoxShape3D_kek77")

[node name="CollisionShape3D3" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.251627, 5.512536, 2.9753466)
shape = SubResource("BoxShape3D_kek77")

[node name="CollisionShape3D4" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.902084, 4.289582, 1.5304832)
shape = SubResource("BoxShape3D_4c57u")

[node name="CollisionShape3D5" type="CollisionShape3D" parent="StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.902084, 4.289582, -8.259658)
shape = SubResource("BoxShape3D_4c57u")

[node name="CutsceneLayer" type="CanvasLayer" parent="."]
script = ExtResource("9_kek77")

[node name="Panel" type="Panel" parent="CutsceneLayer"]
offset_right = 1151.0
offset_bottom = 647.0
theme_override_styles/panel = SubResource("StyleBoxFlat_5vw27")

[node name="Label" type="Label" parent="CutsceneLayer"]
offset_left = -1.0
offset_top = 28.0
offset_right = 1147.0
offset_bottom = 224.0
theme_override_font_sizes/font_size = 100
text = "Dentures and Treasure"
horizontal_alignment = 1

[node name="Button" type="Button" parent="CutsceneLayer"]
offset_left = 431.0
offset_top = 502.0
offset_right = 710.0
offset_bottom = 579.0
theme_override_font_sizes/font_size = 50
text = "Play game"

[node name="VictoryScreen" type="CanvasLayer" parent="."]
visible = false

[node name="Panel" type="Panel" parent="VictoryScreen"]
offset_right = 1148.0
offset_bottom = 647.0
theme_override_styles/panel = SubResource("StyleBoxFlat_kek77")

[node name="Label" type="Label" parent="VictoryScreen"]
offset_right = 1151.0
offset_bottom = 165.0
theme_override_font_sizes/font_size = 175
text = "YOU WON"
horizontal_alignment = 1

[node name="Label2" type="Label" parent="VictoryScreen"]
offset_left = 71.0
offset_top = 261.0
offset_right = 1083.0
offset_bottom = 470.0
theme_override_font_sizes/font_size = 75
text = "Old Man: HEY THERE'S A CRACK IN MY GLASSES! D:<"
autowrap_mode = 2

[node name="Button" type="Button" parent="VictoryScreen"]
offset_left = 433.0
offset_top = 506.0
offset_right = 709.0
offset_bottom = 582.0
theme_override_font_sizes/font_size = 50
text = "Play Again"

[node name="GameOverScreen" type="CanvasLayer" parent="."]
visible = false
script = ExtResource("10_4c57u")

[node name="Panel" type="Panel" parent="GameOverScreen"]
offset_right = 1148.0
offset_bottom = 647.0
theme_override_styles/panel = SubResource("StyleBoxFlat_kek77")

[node name="Label" type="Label" parent="GameOverScreen"]
offset_right = 1151.0
offset_bottom = 240.0
theme_override_font_sizes/font_size = 175
text = "GAME OVER"
horizontal_alignment = 1

[node name="Label2" type="Label" parent="GameOverScreen"]
offset_left = 71.0
offset_top = 261.0
offset_right = 1083.0
offset_bottom = 470.0
theme_override_font_sizes/font_size = 75
text = "Old Man: Dang kids getting killed by goblins these days!"
autowrap_mode = 2

[node name="Button" type="Button" parent="GameOverScreen"]
offset_left = 432.0
offset_top = 505.0
offset_right = 710.0
offset_bottom = 576.0
theme_override_font_sizes/font_size = 50
text = "Retry!"
